<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{{ page.title }} | {{ site.title }}</title>

  {% include head-custom.html %}
</head>
<body>
  <div class="wrapper"><!-- keeps Minimal theme width -->
    <div class="layout">
      <!-- Sticky left column -->
      <aside class="sidebar" role="complementary">
        <figure class="brand-card">
          <a href="{{ '/' | relative_url }}" class="brand-link" aria-label="Back to Home">
            <!-- Light/Dark logos (CSS-controlled) -->
            <img
              class="logo logo--light"
              src="{{ page.hero_image | default: '/assets/img/testjeff-web-logo-min.png' | relative_url }}"
              alt="{{ page.hero_alt | default: 'testJeff' }}"
              width="320" height="320" loading="eager" decoding="async">

            <img
              class="logo logo--dark"
              src="{{ '/assets/img/testjeff-web-logo-min-darktheme.png' | relative_url }}"
              alt="{{ page.hero_alt | default: 'testJeff dark mode' }}"
              width="320" height="320" loading="eager" decoding="async" aria-hidden="true">
          </a>
          <figcaption class="tagline">
            Smart Test Automation Made Simple.
          </figcaption>
        </figure>

        <!-- Theme toggle -->
        <button id="theme-toggle" class="pill" type="button"
                aria-pressed="false" aria-label="Toggle theme"
                style="margin:0 0 12px 0;">
          <span id="theme-icon" aria-hidden="true">🌙</span>
          <span id="theme-text">Theme</span>
        </button>
        <script>
          (function () {
            const btn   = document.getElementById('theme-toggle');
            const icon  = document.getElementById('theme-icon');
            const text  = document.getElementById('theme-text');
            if (!btn || !icon || !text) return;

            const root = document.documentElement;

            function current() {
              return root.getAttribute('data-theme') || 'light';
            }
            function setMetaTheme(color) {
              let meta = document.querySelector('meta[name="theme-color"]');
              if (!meta) {
                meta = document.createElement('meta');
                meta.name = 'theme-color';
                document.head.appendChild(meta);
              }
              meta.content = color;
            }
            function updateButton(theme) {
              // When in dark, show ☀️ to indicate clicking will switch to light
              if (theme === 'dark') {
                icon.textContent = '☀️';
                btn.setAttribute('aria-pressed', 'true');
              } else {
                icon.textContent = '🌙';
                btn.setAttribute('aria-pressed', 'false');
              }
              text.textContent = 'Theme';
            }
            function setTheme(next) {
              root.setAttribute('data-theme', next);
              localStorage.setItem('theme', next);
              setMetaTheme(next === 'dark' ? '#0e1013' : '#ffffff');
              updateButton(next);
            }

            // Init state
            updateButton(current());

            // Toggle on click
            btn.addEventListener('click', () => {
              setTheme(current() === 'dark' ? 'light' : 'dark');
            });
          })();
        </script>

        <nav class="quick-links" aria-label="Quick links">
          <a class="ql" href="{{ '/'          | relative_url }}">🏠 Home</a>
          <a class="ql" href="{{ '/community' | relative_url }}">🤝 Join Our Group</a>
          <a class="ql" href="{{ '/courses'   | relative_url }}">📚 Courses</a>
          <a class="ql" href="{{ '/github'    | relative_url }}">💻 GitHub</a>
          <a class="ql" href="{{ '/about'     | relative_url }}">🐱 About Jeff</a>
        </nav>
      </aside>

      <!-- Page content -->
      <main class="content" role="main">
        {{ content }}
      </main>
    </div>
  </div>
</body>
</html>
