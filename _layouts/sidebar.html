<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{{ page.title }} | {{ site.title }}</title>

  {% include head-custom.html %}
</head>
<body>
  <div class="wrapper"><!-- keeps Minimal theme width -->
    <div class="layout">
      <!-- Sticky left column -->
      <aside class="sidebar" role="complementary">
        <figure class="brand-card">
          <a href="{{ '/' | relative_url }}" class="brand-link" aria-label="Back to Home">
            <img
              src="{{ page.hero_image | default: '/assets/img/testjeff-web-logo-min.png' | relative_url }}"
              alt="{{ page.hero_alt | default: 'testJeff' }}"
              width="320" height="320" loading="eager" decoding="async">
          </a>
          <figcaption class="tagline">
            Smart Test Automation Made Simple.
          </figcaption>
        </figure>

        <!-- Theme toggle -->
        <button id="theme-toggle" class="pill" type="button" aria-pressed="false" title="Toggle theme" style="margin:0 0 12px 0;">
          🌓 Theme
        </button>
        <script>
          (function () {
            const btn = document.getElementById('theme-toggle');
            if (!btn) return;
            const root = document.documentElement;

            function current() { return root.getAttribute('data-theme') || 'light'; }
            function setTheme(next) {
              root.setAttribute('data-theme', next);
              localStorage.setItem('theme', next);
              btn.setAttribute('aria-pressed', String(next === 'dark'));
              // Optional: mobile address bar color
              let meta = document.querySelector('meta[name="theme-color"]');
              if (!meta) {
                meta = document.createElement('meta');
                meta.name = 'theme-color';
                document.head.appendChild(meta);
              }
              meta.content = next === 'dark' ? '#0e1013' : '#ffffff';
            }

            // Initialize button state on load
            btn.setAttribute('aria-pressed', String(current() === 'dark'));

            btn.addEventListener('click', function () {
              setTheme(current() === 'dark' ? 'light' : 'dark');
            });
          })();
        </script>

        <nav class="quick-links" aria-label="Quick links">
          <a class="ql" href="{{ '/'          | relative_url }}">🏠 Home</a>
          <a class="ql" href="{{ '/community' | relative_url }}">🤝 Join Our Group</a>
          <a class="ql" href="{{ '/courses'   | relative_url }}">📚 Courses</a>
          <a class="ql" href="{{ '/github'    | relative_url }}">💻 GitHub</a>
          <a class="ql" href="{{ '/about'     | relative_url }}">🐱 About Jeff</a>
        </nav>
      </aside>

      <!-- Page content -->
      <main class="content" role="main">
        {{ content }}
      </main>
    </div>
  </div>
</body>
</html>
